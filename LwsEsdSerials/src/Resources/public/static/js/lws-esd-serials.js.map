{"version":3,"file":"static/js/lws-esd-serials.js","mappings":"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","sources":["webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/extension/module/sw-bulk-edit/page/sw-bulk-edit-product/index.js","webpack://administration/webpack/bootstrap","webpack://administration/webpack/runtime/publicPath","webpack://administration/data:text/javascript;charset=utf-8;base64,CiAgICAgICAgICAgIGlmICh3aW5kb3c/Ll9fc3dfXz8uYXNzZXRQYXRoKSB7CiAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHdpbmRvdy5fX3N3X18uYXNzZXRQYXRoICsgJy9idW5kbGVzL2x3c2VzZHNlcmlhbHMvJzsKICAgICAgICAgICAgfQogICAgICAgIA==","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/extension/module/sw-product/view/lws-esd-serials-sw-product-detail-base/index.js","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/extension/module/sw-product/view/lws-esd-serials-sw-product-detail-base/lws-esd-serials-sw-product-detail-base.html.twig","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/extension/module/sw-product/component/max-purchase-input-download-products/index.js","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/extension/module/sw-product/component/max-purchase-input-download-products/max-purchase-input-download-products.html.twig","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/extension/module/sw-order/component/sw-order-line-items-grid/index.js","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/extension/module/sw-order/component/sw-order-line-items-grid/sw-order-line-items-grid.html.twig","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/module/lws-esd-serials/component/lws-esd-serials-listing/index.js","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/module/lws-esd-serials/component/lws-esd-serials-listing/serials-listing.html.twig","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/module/lws-esd-serials/component/lws-esd-serials-detail/index.js","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/module/lws-esd-serials/component/lws-esd-serials-detail/serials-detail.html.twig","webpack://administration/../../../../../../custom/static-plugins/LwsEsdSerials/src/Resources/app/administration/src/module/lws-esd-serials/index.js"],"sourcesContent":["/**\n * Allow max purchase to be edited in bulk edit\n */\nShopware.Component.override('sw-bulk-edit-product', {\n\n    computed: {\n\n        restrictedFields() {\n\n            const restrictedFields = this.$super('restrictedFields');\n            const index = restrictedFields.indexOf('maxPurchase');\n            if (index > -1) { //max purchase is not permitted for bulk edit\n                return restrictedFields.toSpliced(index, 1);\n            }\n            return restrictedFields;\n        }\n    }\n})\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.p = \"bundles/lwsesdserials/\";","\n            if (window?.__sw__?.assetPath) {\n                __webpack_public_path__ = window.__sw__.assetPath + '/bundles/lwsesdserials/';\n            }\n        ","import template from './lws-esd-serials-sw-product-detail-base.html.twig';\n\nconst {Component} = Shopware;\n\nComponent.override('sw-product-detail-base', {\n    template\n});\n","export default \"{% block sw_product_detail_base_price_card %}\\n\\n    <lws-esd-serials-listing v-show=\\\"productStates.includes('is-download')\\\"></lws-esd-serials-listing>\\n\\n    {% parent %}\\n{% endblock %}\\n\\n\\n{% block sw_product_detail_deliverability_downloadable_info_form %}\\n\\n    {% parent %}\\n\\n    <max-purchase-input-download-products></max-purchase-input-download-products>\\n\\n{% endblock %}\\n\";","import template from './max-purchase-input-download-products.html.twig';\n\nconst {Component} = Shopware;\nconst { Mixin } = Shopware;\nconst { mapState, mapPropertyErrors, mapGetters } = Shopware.Component.getComponentHelper();\n\nComponent.register('max-purchase-input-download-products', {\n    template,\n\n    compatConfig: Shopware.compatConfig,\n\n    mixins: [\n        Mixin.getByName('placeholder'),\n    ],\n\n    props: {\n        allowEdit: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n            'parentProduct',\n            'loading',\n        ]),\n\n        ...mapGetters('swProductDetail', [\n            'showModeSetting',\n        ]),\n\n        ...mapPropertyErrors('product', [\n            'maxPurchase',\n        ]),\n    }\n\n});\n","export default \"\\n<sw-inherit-wrapper\\n        v-if=\\\"showModeSetting\\\"\\n        v-model:value=\\\"product.maxPurchase\\\"\\n        class=\\\"sw-product-deliverability__max-purchase\\\"\\n        :has-parent=\\\"!!parentProduct.id\\\"\\n        :inherited-value=\\\"parentProduct.maxPurchase\\\"\\n>\\n    <template #content=\\\"props\\\">\\n\\n        <sw-number-field\\n                :map-inheritance=\\\"props\\\"\\n                number-type=\\\"int\\\"\\n                :allow-empty=\\\"true\\\"\\n                :min=\\\"0\\\"\\n                :error=\\\"productMaxPurchaseError\\\"\\n                :label=\\\"$tc('sw-product.settingsForm.labelMaxPurchase')\\\"\\n                :placeholder=\\\"$tc('sw-product.settingsForm.placeholderMaxPurchase')\\\"\\n                :disabled=\\\"props.isInherited || !allowEdit\\\"\\n                :value=\\\"props.currentValue\\\"\\n                @update:value=\\\"props.updateCurrentValue\\\"\\n        />\\n    </template>\\n</sw-inherit-wrapper>\";","import template from './sw-order-line-items-grid.html.twig'\n\nShopware.Component.override('sw-order-line-items-grid', {\n    template,\n})\n\n","export default \"{% block sw_order_line_items_grid_column_payload_options %}\\n    {% parent() %}\\n\\n    <template v-if=\\\"item.extensions && item.extensions.lwsEsdSerials\\\">\\n\\n        <div>\\n            <b>{{ $tc('lws-esd-serials.serialNumber') }}:</b>\\n\\n            <div v-for=\\\"serial in item.extensions.lwsEsdSerials\\\">\\n                {{ serial.serialNumber }}\\n            </div>\\n        </div>\\n\\n    </template>\\n\\n{% endblock %}\\n\";","import template from './serials-listing.html.twig';\n\nconst {Mixin, Component, Context} = Shopware;\nconst {Criteria, EntityCollection} = Shopware.Data;\nconst {mapState, mapGetters} = Component.getComponentHelper();\n\nShopware.Component.register('lws-esd-serials-listing', {\n    template,\n\n    inject: ['repositoryFactory', 'acl'],\n\n    mixins: [\n        Mixin.getByName('placeholder'),\n        Mixin.getByName('notification'),\n    ],\n\n    props: {\n        isAssociation: {\n            type: Boolean,\n            required: false,\n            default: true,\n        }\n\n    },\n\n    data() {\n        return {\n            dataEntries: [],\n            newLayer: null,\n            isLoading: false,\n            newProperties: [],\n            showDetailModal: false,\n            selectedEntry: null\n        };\n    },\n\n    computed: {\n\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n\n        repository() {\n            return this.repositoryFactory.create('lws_esd_serials');\n        },\n\n        columns() {\n            return [\n                {\n                    property: 'serialNumber',\n                    allowResize: true,\n                    inlineEdit: 'string',\n                    label: this.$tc('lws-esd-serials.serials-listing.serialNumber'),\n                    sortable: true\n                },\n                {\n                    property: 'assignDate',\n                    allowResize: true,\n                    label: this.$tc('lws-esd-serials.serials-listing.assignDate'),\n                    sortable: true\n                }\n            ];\n        },\n\n        ...mapState('swProductDetail', [\n            'product'\n        ])\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n\n        createdComponent() {\n            this.loadDataEntries();\n        },\n\n        onDetailModalCancel() {\n            this.showDetailModal = false;\n            this.loadDataEntries();\n        },\n\n        onAfterSave() {\n            this.showDetailModal = false;\n            this.loadDataEntries();\n        },\n\n        onOpen() {\n            this.selectedEntry = this.repository.create();\n            this.selectedEntry.productId = this.product.id;\n            this.showDetailModal = true;\n        },\n\n        onDetailSave() {\n            this.$refs.detail.save();\n        },\n\n        emitDetailClicked(item) {\n            this.selectedEntry = item;\n            this.showDetailModal = true;\n        },\n\n        loadDataEntries() {\n\n            this.isLoading = true;\n\n            const criteria = new Criteria(1, 10);\n\n            criteria.addSorting(\n                Criteria.sort('serialNumber', 'ASC', false),\n            );\n            criteria.addFilter( Criteria.equals('productId', this.product.id));\n\n\n            return this.repository.search(criteria, Context.api)\n                .then((dataEntries) => {\n                    this.dataEntries = dataEntries;\n                })\n                .catch(() => {\n                    this.dataEntries = [];\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        }\n\n    }\n});\n","export default \"{% block list %}\\n\\n    <div>\\n        <sw-card\\n                class=\\\"serials-listing__card\\\"\\n                :is-loading=\\\"isLoading\\\"\\n                position-identifier=\\\"serials-listing__card\\\">\\n\\n            <template #title>\\n                {% block card_title %}\\n                    <div class=\\\"sw-card__title\\\">\\n\\n                        {% block card_title_text %}\\n                            {{ $tc('lws-esd-serials.serials-listing.cardTitle') }}\\n                        {% endblock %}\\n\\n                    </div>\\n                {% endblock %}\\n            </template>\\n\\n            <template #header-right>\\n                <sw-button\\n                        class=\\\"serials-listing__add\\\"\\n                        :disabled=\\\"!acl.can('lws_esd_serials:create')\\\"\\n                        variant=\\\"primary\\\"\\n                        @click=\\\"onOpen\\\">\\n                    {{ $tc('lws-esd-serials.serials-listing.addButtonLabel') }}\\n                </sw-button>\\n\\n            </template>\\n\\n            <template #grid>\\n\\n                <sw-container rows=\\\"auto auto\\\">\\n\\n                    {% block listing %}\\n                        <sw-entity-listing\\n                                v-if=\\\"dataEntries.length > 0\\\"\\n                                ref=\\\"entityListing\\\"\\n                                identifier=\\\"serials-listing-entity-listing\\\"\\n                                :items=\\\"dataEntries\\\"\\n                                :data-source=\\\"dataEntries\\\"\\n                                :columns=\\\"columns\\\"\\n                                :repository=\\\"repository\\\"\\n                                :plain-appearance=\\\"true\\\"\\n                                :full-page=\\\"false\\\"\\n                                :show-settings=\\\"false\\\"\\n                                :allow-edit=\\\"acl.can('lws_esd_serials:update')\\\"\\n                                :allow-inline-edit=\\\"acl.can('lws_esd_serials:update')\\\"\\n                                :allow-delete=\\\"acl.can('lws_esd_serials:delete')\\\"\\n                                @delete-item-finish=\\\"loadDataEntries\\\"\\n                                @items-delete-finish=\\\"loadDataEntries\\\"\\n                        >\\n\\n                            <template #column-assignDate=\\\"{ item }\\\">\\n                                <sw-time-ago :date=\\\"item.assignDate\\\" />\\n                            </template>\\n\\n                            <template #detail-action=\\\"{ item }\\\">\\n                                {% block bec_serials_serial_listing_order_button %}\\n                                    <sw-context-menu-item\\n                                            v-if=\\\"item.orderId\\\"\\n                                            class=\\\"sw-order-list-order-view-action\\\"\\n                                            :router-link=\\\"{ name: 'sw.order.detail', params: { id: item.orderId } }\\\"\\n                                    >\\n                                        {{ $tc('lws-esd-serials.serials-listing.detailOrder') }}\\n                                    </sw-context-menu-item>\\n                                {% endblock %}\\n                            </template>\\n\\n                            <template #column-position=\\\"{ item }\\\">\\n                                <template>\\n                                    {{ item.position }}\\n                                </template>\\n                            </template>\\n\\n                        </sw-entity-listing>\\n                    {% endblock %}\\n\\n                    {% block sw_product_properties_filled_state_body_empty_state %}\\n                        <sw-empty-state\\n                                v-if=\\\"dataEntries.length <= 0\\\"\\n                                :absolute=\\\"false\\\"\\n                                :show-description=\\\"false\\\"\\n                                :title=\\\"$tc('lws-esd-serials.serials-listing.titleEmptyLayerList')\\\">\\n                            <template #icon>\\n\\n                                {% block sw_product_properties_filled_state_body_empty_state_image %}\\n                                    <img\\n                                            :src=\\\"assetFilter('/administration/static/img/empty-states/products-empty-state.svg')\\\"\\n                                            :alt=\\\"$tc('lws-esd-serials.serials-listing.titleEmptyLayerList')\\\"\\n                                    >\\n                                {% endblock %}\\n                            </template>\\n                        </sw-empty-state>\\n\\n                    {% endblock %}\\n\\n                    <sw-loader\\n                            v-if=\\\"isLoading\\\"/>\\n\\n                </sw-container>\\n            </template>\\n        </sw-card>\\n\\n\\n        <sw-modal\\n                v-if=\\\"showDetailModal\\\"\\n                :title=\\\"$tc('lws-esd-serials.serials-detail.title')\\\"\\n                @modal-close=\\\"onDetailModalCancel\\\">\\n\\n            <lws-esd-serials-detail\\n                    :entity=\\\"selectedEntry\\\"\\n                    ref=\\\"detail\\\"\\n                    @afterSave=\\\"onAfterSave\\\"></lws-esd-serials-detail>\\n\\n            <template #modal-footer>\\n                <sw-button\\n                        size=\\\"small\\\"\\n                        @click=\\\"onDetailModalCancel\\\">\\n                    {{ $tc('lws-esd-serials.serials-detail.cancel') }}\\n                </sw-button>\\n                <sw-button\\n                        class=\\\"sw-product-add-properties-modal__button-save\\\"\\n                        variant=\\\"primary\\\"\\n                        size=\\\"small\\\"\\n                        @click=\\\"onDetailSave\\\">\\n                    {{ $tc('lws-esd-serials.serials-detail.save') }}\\n                </sw-button>\\n\\n            </template>\\n\\n        </sw-modal>\\n\\n    </div>\\n\\n{% endblock %}\\n\";","import template from './serials-detail.html.twig';\n\nconst {Mixin, Component, Context} = Shopware;\nconst {mapState, mapGetters, mapPropertyErrors} = Component.getComponentHelper();\n\nShopware.Component.register('lws-esd-serials-detail', {\n    template,\n\n    inject: ['repositoryFactory', 'acl'],\n\n    mixins: [\n        Mixin.getByName('placeholder'),\n        Mixin.getByName('notification')\n    ],\n\n    props: {\n        entity: {\n            type: Object,\n            required: true,\n            default: false,\n        }\n    },\n\n    data() {\n        return {\n            isLoading: false\n        };\n    },\n\n    computed: {\n\n        ...mapPropertyErrors('entity',\n            ['name']),\n\n        repository() {\n            return this.repositoryFactory.create('lws_esd_serials');\n        }\n\n    },\n\n    watch: {},\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n\n        createdComponent() {\n\n        },\n\n        save() {\n            this.isLoading = true;\n\n            let entityByLines = this.splitByLines(this.entity);\n\n            let index = 0;\n            entityByLines.forEach((entityLine) => {\n                this.repository.save(entityLine).then(() => {\n                    this.isLoading = false;\n\n                    if (index == entityByLines.length - 1) {\n                        this.createNotificationSuccess({title: '', message: this.$tc('lws-esd-serials.serials-detail.successMessage')})\n                        this.$emit('afterSave', entityLine);\n                    }\n\n                    index++;\n                }).catch((exception) => {\n                    this.isLoading = false;\n                    this.createNotificationError({\n                        message: this.$tc(\n                            'serials-detail.notificationSaveErrorMessageRequiredFieldsInvalid',\n                        ),\n                    });\n\n                    throw exception;\n                });\n\n\n            });\n\n        },\n\n        splitByLines(entity) {\n            let entityByLines = [];\n            if (entity && entity.serialNumber) {\n                let lines = entity.serialNumber.split(/\\r?\\n|\\r|\\n/g);\n\n                lines.forEach((element) => {\n                    let lwsEsdSerial = this.repository.create();\n                    lwsEsdSerial.productId = entity.productId;\n                    lwsEsdSerial.serialNumber = element;\n                    entityByLines.push(lwsEsdSerial);\n                });\n            }\n\n            console.log(entityByLines);\n            return entityByLines;\n        }\n\n    },\n});\n","export default \"<div>\\n    <template v-if=\\\"isLoading\\\">\\n        <sw-skeleton variant=\\\"detail-bold\\\"/>\\n        <sw-skeleton/>\\n    </template>\\n\\n    <template v-else>\\n\\n        {% block lws_esd_serials_detail_base_basic_info_card %}\\n\\n            <sw-card\\n                    position-identifier=\\\"serials-detail\\\"\\n                    :title=\\\"$tc('lws-esd-serials.serials-detail.cardTitle')\\\">\\n                <sw-container\\n                        columns=\\\"1fr\\\"\\n                        gap=\\\"0px 30px\\\">\\n\\n                    <sw-textarea-field\\n                            v-model:value=\\\"entity.serialNumber\\\"\\n                            type=\\\"textarea\\\"\\n                            validation=\\\"required\\\"\\n                            required></sw-textarea-field>\\n\\n                </sw-container>\\n\\n            </sw-card>\\n\\n        {% endblock %}\\n    </template>\\n\\n</div>\\n\";","import deDE from './snippet/de-DE.json';\r\nimport enGB from './snippet/en-GB.json';\r\n\r\nconst { Module } = Shopware;\r\n\r\nimport './component/lws-esd-serials-listing'\r\nimport './component/lws-esd-serials-detail'\r\n\r\n\r\nModule.register('lws-esd-serials', {\r\n    type: 'plugin',\r\n    name: 'lws-esd-serials',\r\n    color: '#57D9A3',\r\n    icon: 'regular-products',\r\n\r\n    snippets: {\r\n        'de-DE': deDE,\r\n        'en-GB': enGB\r\n    }\r\n});\r\n"],"names":["Shopware","Component","override","computed","restrictedFields","$super","index","indexOf","toSpliced","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","p","window","__sw__","assetPath","template","Mixin","mapState","mapPropertyErrors","mapGetters","getComponentHelper","register","compatConfig","mixins","getByName","props","allowEdit","type","Boolean","required","default","Context","Criteria","EntityCollection","Data","inject","isAssociation","data","dataEntries","newLayer","isLoading","newProperties","showDetailModal","selectedEntry","assetFilter","Filter","repository","repositoryFactory","create","columns","property","allowResize","inlineEdit","label","$tc","sortable","created","createdComponent","methods","loadDataEntries","onDetailModalCancel","onAfterSave","onOpen","productId","product","id","onDetailSave","$refs","detail","save","emitDetailClicked","item","criteria","addSorting","sort","addFilter","equals","search","api","then","catch","finally","entity","Object","watch","entityByLines","splitByLines","forEach","entityLine","length","createNotificationSuccess","title","message","$emit","createNotificationError","exception","serialNumber","lines","split","lwsEsdSerial","element","push","console","log","Module","name","color","icon","snippets","deDE","enGB"],"sourceRoot":""}